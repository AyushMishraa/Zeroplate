<div class="home-container">
  <!-- Enhanced Animated Background with Vector Arts -->
  <div class="particles-container">
    <div class="particle particle-1"></div>
    <div class="particle particle-2"></div>
    <div class="particle particle-3"></div>
    <div class="particle particle-4"></div>
    <div class="particle particle-5"></div>
    <div class="particle particle-6"></div>
    <div class="particle particle-7"></div>
  </div>

  <!-- Vector Art Decorations -->
  <div class="vector-arts">
    <div class="vector-art vector-1">
      <svg viewBox="0 0 200 200" class="food-icon">
        <path d="M100,20 L180,60 L180,140 L100,180 L20,140 L20,60 Z" fill="rgba(102, 126, 234, 0.1)" stroke="rgba(102, 126, 234, 0.3)" stroke-width="2"/>
        <circle cx="100" cy="100" r="30" fill="rgba(118, 75, 162, 0.15)"/>
      </svg>
    </div>
    <div class="vector-art vector-2">
      <svg viewBox="0 0 200 200" class="community-icon">
        <circle cx="100" cy="100" r="60" fill="rgba(79, 172, 254, 0.1)" stroke="rgba(79, 172, 254, 0.3)" stroke-width="2"/>
        <path d="M100,40 L120,80 L100,120 L80,80 Z" fill="rgba(0, 242, 254, 0.15)"/>
      </svg>
    </div>
    <div class="vector-art vector-3">
      <svg viewBox="0 0 200 200" class="heart-icon">
        <path d="M100,50 C80,30 50,40 50,70 C50,100 100,140 100,140 C100,140 150,100 150,70 C150,40 120,30 100,50 Z" fill="rgba(236, 72, 153, 0.1)" stroke="rgba(236, 72, 153, 0.3)" stroke-width="2"/>
      </svg>
    </div>
  </div>

  <!-- Enhanced Navigation Bar -->
  <mat-toolbar class="navbar">
    <div class="navbar-content">
      <div class="navbar-brand" (click)="router.navigate(['/home'])" style="cursor: pointer;">
        <mat-icon class="brand-icon">restaurant_menu</mat-icon>
        <span class="brand-text">ZeroPlate</span>
      </div>
      
      <!-- Navigation Menu -->
      <nav class="navbar-menu">
        <button mat-button (click)="router.navigate(['/home'])" class="nav-link" [class.active]="currentRoute === '/home'">
          <mat-icon>home</mat-icon>
          <span>Home</span>
        </button>
        @if (currentUser) {
          @if (currentUser.role === 'donor' || currentUser.role === 'admin') {
            <button mat-button (click)="handleAction('list-food')" class="nav-link" [class.active]="currentRoute === '/add-food'">
              <mat-icon>add_circle</mat-icon>
              <span>List Food</span>
            </button>
          }
          @if (currentUser.role === 'receiver' || currentUser.role === 'admin') {
            <button mat-button (click)="handleAction('browse-food')" class="nav-link" [class.active]="currentRoute === '/browse-food'">
              <mat-icon>search</mat-icon>
              <span>Browse Food</span>
            </button>
            <button mat-button (click)="router.navigate(['/claims'])" class="nav-link" [class.active]="currentRoute === '/claims'">
              <mat-icon>shopping_cart</mat-icon>
              <span>My Claims</span>
            </button>
          }
          @if (currentUser.role === 'admin') {
            <button mat-button (click)="router.navigate(['/admin/dashboard'])" class="nav-link" [class.active]="currentRoute === '/admin/dashboard'">
              <mat-icon>dashboard</mat-icon>
              <span>Admin</span>
            </button>
            <button mat-button (click)="router.navigate(['/analytics'])" class="nav-link" [class.active]="currentRoute === '/analytics'">
              <mat-icon>analytics</mat-icon>
              <span>Analytics</span>
            </button>
          }
          <!-- @if (currentUser.role === 'volunteer') {
            <button mat-button (click)="router.navigate(['/volunteer/dashboard'])" class="nav-link" [class.active]="currentRoute === '/volunteer/dashboard'">
              <mat-icon>local_shipping</mat-icon>
              <span>Volunteer</span>
            </button>
          } -->
          <button mat-button (click)="router.navigate(['/profile'])" class="nav-link" [class.active]="currentRoute === '/profile'">
            <mat-icon>person</mat-icon>
            <span>Profile</span>
          </button>
        } @else {
          <button mat-button (click)="handleAction('list-food')" class="nav-link">
            <mat-icon>add_circle</mat-icon>
            <span>List Food</span>
          </button>
          <button mat-button (click)="handleAction('browse-food')" class="nav-link">
            <mat-icon>search</mat-icon>
            <span>Browse Food</span>
          </button>
        }
      </nav>
      
      <div class="navbar-actions">
        <!-- Dark Mode Toggle -->
        <div class="theme-toggle-container">
          <button 
            mat-icon-button 
            (click)="toggleDarkMode()"
            class="theme-toggle-btn"
            [attr.aria-label]="'Toggle dark mode'">
            @if (isDarkMode$ | async) {
              <mat-icon class="theme-icon">light_mode</mat-icon>
            } @else {
              <mat-icon class="theme-icon">dark_mode</mat-icon>
            }
          </button>
        </div>

        @if (currentUser) {
          <div class="user-info">
            <div class="user-details">
              <p class="user-name">{{ currentUser.name }}</p>
            </div>
            <button 
              mat-icon-button 
              [matMenuTriggerFor]="userMenu"
              class="user-menu-button">
              <mat-icon>account_circle</mat-icon>
            </button>
            <mat-menu #userMenu="matMenu" class="user-menu">
              <button mat-menu-item (click)="router.navigate(['/home'])" class="menu-item">
                <mat-icon>home</mat-icon>
                <span>Home</span>
              </button>
              @if (currentUser?.role === 'donor' || currentUser?.role === 'admin') {
                <button mat-menu-item (click)="handleAction('list-food')" class="menu-item">
                  <mat-icon>add_circle</mat-icon>
                  <span>List Food</span>
                </button>
              }
              @if (currentUser?.role === 'receiver' || currentUser?.role === 'admin') {
                <button mat-menu-item (click)="handleAction('browse-food')" class="menu-item">
                  <mat-icon>search</mat-icon>
                  <span>Browse Food</span>
                </button>
                <button mat-menu-item (click)="router.navigate(['/claims'])" class="menu-item">
                  <mat-icon>shopping_cart</mat-icon>
                  <span>My Claims</span>
                </button>
              }
              @if (currentUser?.role === 'admin') {
                <button mat-menu-item (click)="router.navigate(['/admin/dashboard'])" class="menu-item">
                  <mat-icon>dashboard</mat-icon>
                  <span>Admin Dashboard</span>
                </button>
                <button mat-menu-item (click)="router.navigate(['/analytics'])" class="menu-item">
                  <mat-icon>analytics</mat-icon>
                  <span>Analytics</span>
                </button>
              }
              <!-- @if (currentUser?.role === 'volunteer') {
                <button mat-menu-item (click)="router.navigate(['/volunteer/dashboard'])" class="menu-item">
                  <mat-icon>local_shipping</mat-icon>
                  <span>Volunteer Dashboard</span>
                </button>
              } -->
              <button mat-menu-item (click)="router.navigate(['/profile'])" class="menu-item">
                <mat-icon>person</mat-icon>
                <span>Profile</span>
              </button>
              <mat-divider></mat-divider>
              <button mat-menu-item (click)="logout()" class="menu-item">
                <mat-icon>logout</mat-icon>
                <span>Logout</span>
              </button>
            </mat-menu>
          </div>
        } @else {
          <div class="auth-buttons">
            <button mat-stroked-button (click)="navigateToLogin()" class="login-btn">
              <mat-icon>login</mat-icon>
              <span>Login</span>
            </button>
            <button mat-raised-button (click)="navigateToSignup()" class="signup-btn">
              <mat-icon>person_add</mat-icon>
              <span>Sign Up</span>
            </button>
          </div>
        }
      </div>
    </div>
  </mat-toolbar>

  <!-- Modern Hero Section -->
  <section class="hero-section">
    <div class="hero-background"></div>
    <div class="hero-content">
      <div class="hero-text">
        <h1 class="hero-title">
          <span class="hero-title-main">Reduce Food Waste,</span>
          <span class="hero-title-gradient">Feed Communities</span>
        </h1>
        <p class="hero-subtitle">
          Connect restaurants, supermarkets, and households with NGOs and food banks. 
          Together, we can make a difference.
        </p>
        <div class="hero-buttons">
          <button mat-raised-button class="hero-primary-btn" (click)="handleAction('list-food')">
            Get Started
            <mat-icon>arrow_forward</mat-icon>
          </button>
          <button mat-stroked-button class="hero-secondary-btn" (click)="handleAction('browse-food')">
            Learn More
          </button>
        </div>
      </div>
      <div class="hero-visual">
        <div class="hero-card-grid">
          <div class="hero-card hero-card-1">
            <mat-icon>restaurant</mat-icon>
            <span>Food Saved</span>
          </div>
          <div class="hero-card hero-card-2">
            <mat-icon>groups</mat-icon>
            <span>Communities</span>
          </div>
          <div class="hero-card hero-card-3">
            <mat-icon>volunteer_activism</mat-icon>
            <span>Impact</span>
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- Modern Stats Section -->
  <section class="stats-section">
    <div class="stats-container">
      <div class="stats-grid">
        @for (stat of stats; track stat.label; let i = $index) {
          <div class="stat-item">
            <div class="stat-icon" [class]="'stat-icon-' + (i + 1)">
              <mat-icon>{{ stat.icon }}</mat-icon>
            </div>
            <div class="stat-value">{{ stat.value }}</div>
            <div class="stat-label">{{ stat.label }}</div>
          </div>
        }
      </div>
    </div>
  </section>

  <!-- Modern Features Section -->
  <section class="features-section">
    <div class="features-container">
      <div class="section-header">
        <h2 class="section-title">How It Works</h2>
        <p class="section-subtitle">
          ZeroPlate makes it easy to connect surplus food with those who need it most
        </p>
      </div>
      
      <div class="features-grid">
        @for (feature of features; track feature.title; let i = $index) {
          <div class="feature-item">
            <div class="feature-number">{{ i + 1 }}</div>
            <div class="feature-icon" [class]="'feature-icon-' + (i + 1)">
              <mat-icon>{{ feature.icon }}</mat-icon>
            </div>
            <h3 class="feature-title">{{ feature.title }}</h3>
            <p class="feature-description">{{ feature.description }}</p>
          </div>
        }
      </div>
    </div>
  </section>

  <!-- Modern Testimonials Section -->
  <section class="testimonials-section">
    <div class="testimonials-container">
      <div class="section-header">
        <h2 class="section-title">What People Say</h2>
        <p class="section-subtitle">
          Real stories from our community of food waste warriors
        </p>
      </div>
      
      <div class="testimonials-grid">
        @for (testimonial of testimonials; track testimonial.name; let i = $index) {
          <div class="testimonial-item">
            <div class="testimonial-quote">
              <mat-icon>format_quote</mat-icon>
            </div>
            <p class="testimonial-text">"{{ testimonial.text }}"</p>
            <div class="testimonial-author">
              <div class="testimonial-avatar">{{ testimonial.image }}</div>
              <div class="testimonial-info">
                <div class="testimonial-name">{{ testimonial.name }}</div>
                <div class="testimonial-role">{{ testimonial.role }} Â· {{ testimonial.organization }}</div>
              </div>
            </div>
          </div>
        }
      </div>
    </div>
  </section>

  <!-- Modern CTA Section -->
  <section class="cta-section">
    <div class="cta-container">
      <div class="cta-content">
        <h2 class="cta-title">Ready to Make a Difference?</h2>
        <p class="cta-subtitle">
          Join thousands of organizations already reducing food waste and feeding communities
        </p>
        <div class="cta-buttons">
          <button mat-raised-button class="cta-primary-btn" (click)="handleAction('get-started')">
            Get Started Free
            <mat-icon>arrow_forward</mat-icon>
          </button>
          <button mat-stroked-button class="cta-secondary-btn" (click)="handleAction('browse-food')">
            View Demo
          </button>
        </div>
      </div>
    </div>
  </section>

  <!-- Enhanced Footer -->
  <footer class="footer">
    <div class="footer-container">
      <div class="footer-grid">
        <div class="footer-column">
          <div class="footer-brand">
            <mat-icon class="footer-brand-icon">restaurant_menu</mat-icon>
            <span class="footer-brand-text">ZeroPlate</span>
          </div>
          <p class="footer-description">
            Connecting communities to reduce food waste and fight hunger.
          </p>
        </div>
        <div class="footer-column">
          <h4 class="footer-heading">Quick Links</h4>
          <ul class="footer-links">
            <li><a href="#" class="footer-link">About Us</a></li>
            <li><a href="#" class="footer-link">How It Works</a></li>
            <li><a href="#" class="footer-link">Contact</a></li>
            <li><a href="#" class="footer-link">Privacy Policy</a></li>
          </ul>
        </div>
        <div class="footer-column">
          <h4 class="footer-heading">Connect</h4>
          <div class="social-links">
            <a href="#" class="social-link" aria-label="Facebook">
              <mat-icon>facebook</mat-icon>
            </a>
            <a href="#" class="social-link" aria-label="Twitter">
              <mat-icon>alternate_email</mat-icon>
            </a>
            <a href="#" class="social-link" aria-label="LinkedIn">
              <mat-icon>work</mat-icon>
            </a>
            <a href="#" class="social-link" aria-label="Instagram">
              <mat-icon>photo_camera</mat-icon>
            </a>
          </div>
        </div>
      </div>
      <div class="footer-bottom">
        <p>&copy; 2024 ZeroPlate. All rights reserved.</p>
      </div>
    </div>
  </footer>
</div>
